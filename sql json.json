{
  "metadata": {
    "domain": "hr_payroll_nl2sql",
    "description": "Convert HR payroll and attendance questions into SQL queries",
    "sql_dialect": "MySQL"
  },
  "examples": [
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show all employees",
      "assistant": "SELECT * FROM employees;"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "List employee names and departments",
      "assistant": "SELECT name, department FROM employees;"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "How many employees are currently active?",
      "assistant": "SELECT COUNT(*) FROM employees WHERE status = 'Active';"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show employees who joined after 2022",
      "assistant": "SELECT * FROM employees WHERE joining_date > '2022-12-31';"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show employees from the IT department",
      "assistant": "SELECT * FROM employees WHERE department = 'IT';"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "What is the average salary of employees?",
      "assistant": "SELECT AVG(salary) FROM employees;"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show highest paid employee",
      "assistant": "SELECT name, salary\nFROM employees\nORDER BY salary DESC\nLIMIT 1;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show employees who were absent today",
      "assistant": "SELECT e.name\nFROM employees e\nJOIN attendance a ON e.emp_id = a.emp_id\nWHERE a.date = CURDATE()\nAND a.status = 'Absent';\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show attendance details for employee John Doe",
      "assistant": "SELECT a.date, a.status, a.hours_worked\nFROM attendance a\nJOIN employees e ON a.emp_id = e.emp_id\nWHERE e.name = 'John Doe';\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "How many days was John Doe absent?",
      "assistant": "SELECT COUNT(*)\nFROM attendance a\nJOIN employees e ON a.emp_id = e.emp_id\nWHERE e.name = 'John Doe'\nAND a.status = 'Absent';\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show total working hours for each employee",
      "assistant": "SELECT emp_id, SUM(hours_worked) AS total_hours\nFROM attendance\nGROUP BY emp_id;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show payroll details for March 2024",
      "assistant": "SELECT * FROM payroll WHERE month = 'March' AND year = 2024;"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "What is the total payroll cost for March 2024?",
      "assistant": "SELECT SUM(net_salary) FROM payroll WHERE month = 'March' AND year = 2024;"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show employees whose salary is above 100000",
      "assistant": "SELECT name, salary FROM employees WHERE salary > 100000;"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show employees who took leave more than 5 days",
      "assistant": "SELECT e.name, COUNT(*) AS leave_days\nFROM attendance a\nJOIN employees e ON a.emp_id = e.emp_id\nWHERE a.status = 'Leave'\nGROUP BY e.name\nHAVING leave_days > 5;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show net salary of each employee for 2024",
      "assistant": "SELECT emp_id, SUM(net_salary) AS yearly_salary\nFROM payroll\nWHERE year = 2024\nGROUP BY emp_id;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show employees who joined in 2023",
      "assistant": "SELECT *\nFROM employees\nWHERE YEAR(joining_date) = 2023;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show employees who are no longer active",
      "assistant": "SELECT *\nFROM employees\nWHERE status != 'Active';\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show total number of employees per department",
      "assistant": "SELECT department, COUNT(*) AS total_employees\nFROM employees\nGROUP BY department;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Which department has the highest average salary?",
      "assistant": "SELECT department, AVG(salary) AS avg_salary\nFROM employees\nGROUP BY department\nORDER BY avg_salary DESC\nLIMIT 1;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show attendance records for the last 7 days",
      "assistant": "SELECT *\nFROM attendance\nWHERE date >= CURDATE() - INTERVAL 7 DAY;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show employees who were present today",
      "assistant": "SELECT e.name\nFROM employees e\nJOIN attendance a ON e.emp_id = a.emp_id\nWHERE a.date = CURDATE()\nAND a.status = 'Present';\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show employees with less than 6 working hours today",
      "assistant": "SELECT e.name, a.hours_worked\nFROM employees e\nJOIN attendance a ON e.emp_id = a.emp_id\nWHERE a.date = CURDATE()\nAND a.hours_worked < 6;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show total absent days for each employee",
      "assistant": "SELECT emp_id, COUNT(*) AS absent_days\nFROM attendance\nWHERE status = 'Absent'\nGROUP BY emp_id;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show employees who were absent more than 3 days this month",
      "assistant": "SELECT emp_id, COUNT(*) AS absent_days\nFROM attendance\nWHERE status = 'Absent'\nAND MONTH(date) = MONTH(CURDATE())\nAND YEAR(date) = YEAR(CURDATE())\nGROUP BY emp_id\nHAVING absent_days > 3;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show payroll records for employee John Doe",
      "assistant": "SELECT p.*\nFROM payroll p\nJOIN employees e ON p.emp_id = e.emp_id\nWHERE e.name = 'John Doe';\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show total deductions for each employee in 2024",
      "assistant": "SELECT emp_id, SUM(deductions) AS total_deductions\nFROM payroll\nWHERE year = 2024\nGROUP BY emp_id;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show employees whose net salary decreased compared to last month",
      "assistant": "SELECT p1.emp_id\nFROM payroll p1\nJOIN payroll p2\n  ON p1.emp_id = p2.emp_id\nWHERE p1.year = YEAR(CURDATE())\n  AND p2.year = YEAR(CURDATE())\n  AND p1.month = MONTH(CURDATE())\n  AND p2.month = MONTH(CURDATE()) - 1\n  AND p1.net_salary < p2.net_salary;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show total payroll cost per department for 2024",
      "assistant": "SELECT e.department, SUM(p.net_salary) AS total_payroll\nFROM payroll p\nJOIN employees e ON p.emp_id = e.emp_id\nWHERE p.year = 2024\nGROUP BY e.department;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show employees who have never taken leave",
      "assistant": "SELECT e.*\nFROM employees e\nLEFT JOIN attendance a\n  ON e.emp_id = a.emp_id AND a.status = 'Leave'\nWHERE a.emp_id IS NULL;\n"
    },
    {
      "system": "You are an HR SQL assistant. Convert HR-related questions into SQL queries.",
      "user": "Show average working hours per employee",
      "assistant": "SELECT emp_id, AVG(hours_worked) AS avg_hours\nFROM attendance\nGROUP BY emp_id;\n"
    }
  ]
}